<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Binary Tree Music Player</title>
<link rel="stylesheet" href="1.css">
<style>

</style>
</head>
<body>
    <div id="main">
        <div class="controls">
            <label>BPM: <input type="range" id="bpm_range" min="60" max="200" value="140"> <span id="bpm_val">140</span></label>
            <button id="stop">Stop</button>
            <button id="pause">Pause</button>
            <button id="resume">Resume</button>
        </div>

        <div id="seq_input">
            <div style="margin-bottom: 4px;">Sequence Build Tree</div>
            <div id="seq_container">
                <div id="seq_bar"></div>
                <button id="seq_append_btn">+</button>
            </div>
            <div class="controls">
                <div id="seq_to_tree">Build Tree Order</div>
                <div id="seq_traversal_buttons">
                    <button id="seq_preorder">Preorder</button>
                    <button id="seq_inorder">Inorder</button>
                    <button id="seq_postorder">Postorder</button>
                    <button id="seq_BFS">BFS</button>
                </div>
            </div>
            <div class="controls" id="sample_songs">
                <div>Sample Songs</div>
                <button id="hpbdsong">Happy Birthday</button>
                <button id="twinkle_star">Twinkle Star</button>
                <button id="daisy_bell">Daisy Bell</button>
            </div>
        </div>

        <div class="controls" id="play_constrols">
            <div>Play Order</div>
            <button id="play_preorder">Preorder</button>
            <button id="play_inorder">Inorder</button>
            <button id="play_postorder">Postorder</button>
            <button id="play_bfs">BFS</button>
        </div>


        <div id="intoduction_container">
            <button id="intro_btn">INFO</button>
            <button id="help_btn">HELP</button>
        </div>
    </div>

    <div id="svg_container" style="width: 100%; height: 100vh; overflow: auto;">
        <svg id="tree"></svg>
    </div>

    <div id="popup">
    <label>Note:
        <select id="popup_note"></select>
    </label>
    <label>Octave:
        <select id="popup_octave"></select>
    </label>
    <label>Duration:
        <select id="popup_duration">
        <option value="0.125">0.125</option>
        <option value="0.167">0.167</option>
        <option value="0.25">0.25</option>
        <option value="0.5">0.5</option>
        <option value="0.75">0.75</option>
        <option value="1">1</option>
        <option value="1.5">1.5</option>
        <option value="2">2</option>
        <option value="4">4</option>
        </select>
    </label>
    <div style="display:flex;gap:8px;justify-content:flex-end">
        <button id="popup_delete" style="margin-right:auto">Delete Leaf</button>
        <button id="popup_apply">Apply</button>
        <button id="popup_cancel">Cancel</button>
    </div>
    </div>

    <div id="seq_popup">
    <label>Note:
        <select id="seq_popup_note"></select>
    </label>
    <label>Octave:
        <select id="seq_popup_octave"></select>
    </label>
    <label>Duration:
        <select id="seq_popup_duration">
        <option value="0.125">0.125</option>
        <option value="0.167">0.167</option>
        <option value="0.25">0.25</option>
        <option value="0.5">0.5</option>
        <option value="0.75">0.75</option>
        <option value="1">1</option>
        <option value="1.5">1.5</option>
        <option value="2">2</option>
        <option value="4">4</option>
        </select>
    </label>
    <div style="display:flex;gap:8px;justify-content:flex-end">
        <button id="seq_apply">Apply</button>
        <button id="seq_cancel">Cancel</button>
    </div>
    </div>

    <div id="seq_edit_popup">
    <label>Note:
        <select id="seq_edit_popup_note"></select>
    </label>
    <label>Octave:
        <select id="seq_edit_popup_octave"></select>
    </label>
    <label>Duration:
        <select id="seq_edit_popup_duration">
        <option value="0.125">0.125</option>
        <option value="0.167">0.167</option>
        <option value="0.25">0.25</option>
        <option value="0.5">0.5</option>
        <option value="0.75">0.75</option>
        <option value="1">1</option>
        <option value="1.5">1.5</option>
        <option value="2">2</option>
        <option value="4">4</option>
        </select>
    </label>
    <div style="display:flex;gap:8px;justify-content:flex-end">
        <button id="seq_edit_delete" style="margin-right:auto">Delete</button>
        <button id="seq_edit_apply">Apply</button>
        <button id="seq_edit_cancel">Cancel</button>
    </div>
    </div>

    <div id="introduction_popup" class="popup2">
        <button id="introduction_popup_close">X</button>
        <div class="title_s">Introduction</div>
        這是一棵「音樂二元樹」。樹上的每個節點都代表一個音符。<br/>
        你可以選擇用不同的演算法去走訪這棵樹，而走訪的順序會直接決定你聽到的旋律順序。
        <br/><br/>
        總共有四種走訪方式：
        <ul>
            <li>Preorder</li>
            <li>Inorder</li>
            <li>Postorder</li>
            <li>BFS</li>
        </ul>
        每種走法會以不同的順序拜訪樹上的節點，所以音符的播放順序也會跟著變。<br/><br/>

        在 Sequence Build Tree 裡，你可以先輸入你想要播放的音符順序。<br/>
        接著在 Build Tree Order 選擇一種走訪方式，我們就會建立一棵樹，讓它在你選的那種走法下播放時，音符順序會剛好跟你輸入的一樣。<br/>

        簡單來說，就是：<br/>
        你輸入一段旋律 → 選一種走樹方式 → 我們替你生出一棵樹 → 用那種走法走樹時會播放出你原本輸入的旋律。也可以用其他走法去聽這棵樹在其他走法下聽起來如何。<br/>
    </div>

    <div id="help_popup" class="popup2">
        <button id="help_popup_close">X</button>
        <div class="title_s">Sequence Build Tree</div>
        點擊 + 方塊可以新增音符進去序列<br/>
        點擊序列中方塊可己編輯音符
        <br/><br/>
        <div class="title_s">Build Tree Order</div>
        根據4種演算法: Preorder、Inorder、Postorder、BFS建立樹<br/>
        (以Preorder建立後用Preorder播放就會播出原本序列順序)
        <br/><br/>
        <div class="title_s">Sample Songs</div>
        點擊Sample Song會取代原本序列中的方塊，然後選擇一種演算法Build Tree Order，之後就可以在Play Order播放
        <br/><br/>
        <div class="title_s">Play Order</div>
        根據4種演算法: Preorder、Inorder、Postorder、BFS播放樹上的音符<br/>
        (每種演算法有各自的播放順序)
        <br/><br/>
        <div class="title_s">Binary Tree</div>
        點擊Tree上的節點可以編輯該節點的音符
    </div>
    <script src="./3.js"></script>
</body>
</html>
